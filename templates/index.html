<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Camp Search</title>

  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  />
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">

  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    defer
  ></script>
  <script src="{{ url_for('static', filename='js/main.js') }}" defer></script>
  <script src="{{ url_for('static', filename='js/search.js') }}" defer></script>
</head>

<body class="page">
  <header class="page-header">
    <div class="page-header-inner">
      <a href="/" class="brand">
        <div class="brand-mark">üèïÔ∏è</div>
        <div class="brand-text">
          <div class="brand-title">Camp Search</div>
          <div class="brand-subtitle">Find open campsites with the right amenities</div>
        </div>
      </a>

      <div class="theme-toggle" role="radiogroup" aria-label="Color theme">
        <button type="button" class="theme-toggle-btn" data-theme-choice="light">Light</button>
        <button type="button" class="theme-toggle-btn" data-theme-choice="dark">Dark</button>
        <button type="button" class="theme-toggle-btn" data-theme-choice="system">System</button>
      </div>
    </div>
  </header>

  <main class="page-main">
    <section class="hero">
      <div class="hero-content">
        <h1 class="hero-title">Find your next campsite</h1>
        <p class="hero-subtitle">Search by name or forest, filter by amenities, and jump straight into details.</p>

        <!-- Search + Filters -->
        <form id="searchForm" action="/results" method="GET" class="search-form">
          <div class="search-card">
            <label for="searchInput" class="field-label">Search</label>
            <div class="search-input-row">
              <input
                type="text"
                id="searchInput"
                name="query"
                class="search-input"
                placeholder="Try &quot;Pinecrest&quot; or &quot;Stanislaus&quot; (optional)"
              />
              <button type="submit" class="btn btn-primary">Search</button>
            </div>

            <!-- Filters (revealed when search box is focused) -->
            <div id="filters" class="filters">
              <div class="filters-header">
                <h2 class="filters-title">Filters</h2>
                <p class="filters-hint">Refine results by status, amenities, forest, and dates.</p>
              </div>

              <div class="filters-grid">
                <div class="filter-group">
                  <label class="checkbox-label">
                    <input type="checkbox" name="is_open" value="true" />
                    <span>Open campsites only</span>
                  </label>
                </div>

                <div class="filter-group">
                  <label class="checkbox-label">
                    <input type="checkbox" name="has_water" value="true" />
                    <span>Water available</span>
                  </label>
                </div>

                <div class="filter-group">
                  <label class="checkbox-label">
                    <input type="checkbox" name="has_restrooms" value="true" />
                    <span>Restrooms available</span>
                  </label>
                </div>

                 <div class="filter-group">
                   <label for="forest" class="field-label">National Forest</label>
                   <select name="forest" id="forest" class="select">
                     <option value="">Any</option>
                     {% for forest in forests %}
                       <option value="{{ forest }}">{{ forest }}</option>
                     {% endfor %}
                   </select>
                 </div>

                 <div class="filter-group">
                   <label for="start_date" class="field-label">Start date</label>
                   <input
                     type="date"
                     id="start_date"
                     name="start"
                     class="date-input"
                   />
                 </div>

                 <div class="filter-group">
                   <label for="end_date" class="field-label">End date</label>
                   <input
                     type="date"
                     id="end_date"
                     name="end"
                     class="date-input"
                   />
                 </div>
               </div>
             </div>
           </div>
        </form>
      </div>
    </section>

    <section class="map-section">
      <div class="map-card">
        <div class="map-header">
          <div class="map-label">Explore on the map</div>
          <p class="map-caption">When wired up, this area can render an interactive map with campsite markers.</p>
        </div>
        <div id="map" class="map-shell"></div>
      </div>
    </section>
  </main>

  <footer class="page-footer">
    <p class="page-footer-text">Built for quickly scanning national forest campsites.</p>
  </footer>

  <script src="{{ url_for('static', filename='js/search.js') }}"></script>
</body>
</html>
